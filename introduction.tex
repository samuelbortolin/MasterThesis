\chapter{Introduction}
\label{cha:introduction}
\vspace{0.4 cm}

The accurate forecasting of customers' electricity demand is of vital importance for electricity suppliers, especially in this moment of global crisis, who have to obtain supplies from the increasingly volatile electricity market.
Having exact information on the electricity demand of their customers at any instant in time represents a great opportunity for this type of company.
This will allow them to optimize the purchase of the necessary electricity without having to resort solely to the instantaneous electricity market, thereby avoiding potential cost fluctuations.
They will become capable of proactively planning their energy procurement strategies, ensuring a stable and reliable supply while minimizing financial risks.
Furthermore, by accurately forecasting demand, electricity suppliers can efficiently offer customers the necessary electricity and supply it at a competitive price, ensuring customer satisfaction and loyalty.
Additionally, an escalating number of companies possess their own electricity production facilities, such as PV plants.
For these companies forecasting the production from their own PV plants becomes crucial in determining the amount of electricity that needs to be purchased to meet the demand.
By forecasting the production of these facilities, electricity suppliers can efficiently balance their energy portfolios and minimize reliance on non-renewable sources, leading to a more sustainable and environmentally friendly energy supply.
Lastly, understanding the consumption habits of individual customers by establishing a reference consumption baseline aids in developing personalized energy solutions and promoting energy efficiency initiatives.
This allows the integration of potential new services within the realm of Demand Side Management based on customers' energy needs and preferences, such as implementing a dynamic pricing scheme and proposing the integration of customized energy storage systems.
By aligning their offerings with customers' consumption habits, electricity suppliers can increase customer retention and their overall attractiveness in the marketplace when compared to competitors.
However, these are open research problems and as shown in the dedicated chapter on the state of the art, presenting a comprehensive review of the literature on these research problems, there is no universal solution that can be applicable to all use cases and all specific situations.
Typically, the presented approaches are tailored to specific datasets, with certain constraints, or leveraging unique features that are available within each respective use case.

One of the key challenges in addressing these problems is the availability of suitable datasets.
To overcome this challenge, this thesis leveraged various datasets provided by MIWenergía\footnote{ \url{https://www.miwenergia.com/} }, including aggregated consumption data from all their customers, consumption data from single customers, and production data from PV plants.
MIWenergía is an electricity supplier located in Murcia that supplies electricity to thousands of customers and manages multiple photovoltaic (PV) plants promoting sustainability and neutralizing polluting emissions.
MIWenergía is able to offer an improved service to customers with respect to large companies, with personalized attention and getting customers to save the most on their electricity bill by proposing fair rates.
Leveraging these datasets, the objective of the thesis is to develop a prototype of a forecasting system that can deliver accurate forecasts for the following use cases:
\begin{itemize}
  \item Electricity demand forecasting, generating forecasts for the upcoming month with an hourly granularity, and in the case with an hourly granularity is not feasible generating them with a daily granularity;
  \item Electricity production forecasting, generating forecasts for the future week with an hourly granularity;
  \item Consumption baseline forecasting, generating forecasts for the provided customers for the future week with an hourly granularity, and in the case with an hourly granularity is not feasible generating them with a daily or by tariff granularity.
\end{itemize}

The thesis aims to address the previously described problems and seeks to provide answers to the following research questions:
\begin{enumerate}
  \item Can the customers' electricity demand be forecasted based on past aggregated consumption data over the customers and historical weather data? The findings contribute to understanding the feasibility of utilizing historical aggregated consumption data over the customers and historical weather data to develop a reliable forecasting model, enabling effective energy management and resource allocation.
  \item Can the PV plants' production be forecasted based on past aggregated production data over the PV plants and historical weather data, including solar energy data? The thesis examines the potential for accurately forecasting PV plants' output using historical production data over the PV plants and historical weather data, facilitating the integration of renewable energy sources and optimizing energy procurement strategies.
  \item Can a consumption baseline of individual customers be established based on past consumption data of individual customers and historical weather data? The thesis explores the possibility of forecasting consumption baselines for individual customers utilizing historical consumption data of individual customers and historical weather data, offering insights into personalized energy solutions, energy efficiency, and tailored energy-saving recommendations.
\end{enumerate}
By addressing these research questions, this thesis advances knowledge in forecasting electricity demand, PV plants' production, and consumption baselines.
The findings provide practical implications for enhancing energy management strategies, optimizing resource allocation, promoting renewable energy integration, and improving customer-centric energy solutions.

A forecasting system is designed for addressing these research questions.
For the forecasting system, a novel system architecture is designed in order to build a Software as a Service (SaaS) solution capable of satisfying different use cases and being used directly by electricity suppliers.
A prototype is implemented with a focus on key components for validating the core system functionalities for each specific use case.
In particular, the training of different models, the forecasting of new data, and the evaluation of the performance of the developed models are implemented for all the use cases.
As evaluation methodologies, the blocked k-fold cross-validation and the test on the last split are adopted using as metrics either the Mean Absolute Percentage Error (MAPE) or Mean Absolute Error (MAE) depending on the specific use case.
Datasets provided by MIWenergía are adopted for the training and validation of the models.

For electricity demand forecasting, the aggregated consumption data over the customers is used.
This data is initially explored and analyzed and the correlation with weather data is also studied.
After this, many different models are developed for producing accurate forecasts on this use case, including statistical, machine learning (ML), deep learning (DL), and Automated Machine Learning (AutoML) techniques.

For electricity production forecasting, the aggregated production data over the PV plants is used.
The target of the predictions is the mean percentage of production, which is calculated as the division of the total produced energy by the nominal power of the PV plants.
This data is initially explored and analyzed and the correlation with weather data, including solar energy data, is also studied.
After this, many different models are developed for producing accurate forecasts on this use case, including statistical, ML, DL, and AutoML techniques.

For consumption baseline forecasting, the consumption data of three customers is used.
This data is initially explored and analyzed and the correlation with weather data is also studied.
After this, many different models are developed for producing accurate forecasts on this use case, including statistical, ML, DL, and AutoML techniques.

Among the developed models, also AutoML approaches are included as baselines to show how a general-purpose framework can perform in specific use cases compared to specific architectures designed for that use case.

The thesis is structured as follows. 
Chapter~\ref{cha:soa} presents a comprehensive literature review of the current state of the art, discussing key theories and previous studies related to the research questions.
The context of electricity data representation and time series forecasting methods are analyzed, including an extensive analysis of two prominent subjects in the research community such as Transformers and AutoML.
Furthermore, the three use cases of interest, electricity demand forecasting, consumption baseline forecasting, and electricity production forecasting, are treated in detail in dedicated sections.
In Chapter~\ref{cha:system}, the model of the proposed system is presented.
An in-depth presentation of the designed system architecture is provided and the different components of the system with their functionalities and interactions are described.
Moreover, the modules focused on the three use cases of interest are treated more in detail in dedicated sections.
Chapter~\ref{cha:implementation} presents how the prototype of the system was developed and how the key components of the designed architecture are implemented.
The implementation of the system’s common components across the various specific use cases is first presented and then dedicated sections explain the implementation details of the use case-specific modules.
In Chapter~\ref{cha:evaluation}, the system prototype is validated and the performance of the models for the different use cases is evaluated.
The datasets provided by MIWenergía and the adopted evaluation methodology are first described and then dedicated sections analyze and discuss the performance of the models for the different use cases.
Finally, Chapter~\ref{cha:conclusions} reports the conclusions of the thesis, summarizing the key findings, their implications, and suggesting avenues for future research.
